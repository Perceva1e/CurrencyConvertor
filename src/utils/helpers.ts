export const convertCurrency = (
  amount: number,
  from: string,
  to: string,
  baseCurrency: string,
  rates: Record<string, number>
): number => {
  if (!rates || Object.keys(rates).length === 0) return 0;
    
  if (from === baseCurrency) {
    return amount * (rates[to] || 1);
  }
  
  if (to === baseCurrency) {
    return amount / (rates[from] || 1);
  }
  
  const amountInBase = amount / (rates[from] || 1);
  return amountInBase * (rates[to] || 1);
};

export const formatCurrency = (number: number): string => {
  if (isNaN(number)) return '0.00';
  
  if (Math.abs(number) < 0.000001) {
    return number.toExponential(6);
  }
  
  return number.toLocaleString('ru-RU', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 6
  });
};

export const getCurrencyName = (code: string): string => {
  if (!code) return '';

  const currencyNames: Record<string, string> = {
  AED: 'Дирхам ОАЭ',
  AFN: 'Афганский афгани',
  ALL: 'Албанский лек',
  AMD: 'Армянский драм',
  ANG: 'Нидерландский антильский гульден',
  AOA: 'Ангольская кванза',
  ARS: 'Аргентинское песо',
  AUD: 'Австралийский доллар',
  AWG: 'Арубанский флорин',
  AZN: 'Азербайджанский манат',
  BAM: 'Конвертируемая марка Боснии и Герцеговины',
  BBD: 'Барбадосский доллар',
  BDT: 'Бангладешская така',
  BGN: 'Болгарский лев',
  BHD: 'Бахрейнский динар',
  BIF: 'Бурундийский франк',
  BMD: 'Бермудский доллар',
  BND: 'Брунейский доллар',
  BOB: 'Боливийский боливиано',
  BRL: 'Бразильский реал',
  BSD: 'Багамский доллар',
  BTC: 'Биткоин',
  BTN: 'Бутанский нгултрум',
  BWP: 'Ботсванская пула',
  BYN: 'Белорусский рубль',
  BZD: 'Белизский доллар',
  CAD: 'Канадский доллар',
  CDF: 'Конголезский франк',
  CHF: 'Швейцарский франк',
  CLF: 'Чилийский лат',
  CLP: 'Чилийское песо',
  CNY: 'Китайский юань',
  COP: 'Колумбийское песо',
  CRC: 'Костариканский колон',
  CUC: 'Кубинское конвертируемое песо',
  CUP: 'Кубинское песо',
  CVE: 'Эскудо Кабо-Верде',
  CZK: 'Чешская крона',
  DJF: 'Джибутийский франк',
  DKK: 'Датская крона',
  DOP: 'Доминиканское песо',
  DZD: 'Алжирский динар',
  EGP: 'Египетский фунт',
  ERN: 'Эритрейская накфа',
  ETB: 'Эфиопский быр',
  EUR: 'Евро',
  FJD: 'Доллар Фиджи',
  FKP: 'Фунт Фолклендских островов',
  GBP: 'Фунт стерлингов',
  GEL: 'Грузинский лари',
  GGP: 'Гернсийский фунт',
  GHS: 'Ганский седи',
  GIP: 'Гибралтарский фунт',
  GMD: 'Гамбийский даласи',
  GNF: 'Гвинейский франк',
  GTQ: 'Гватемальский кетсаль',
  GYD: 'Гайанский доллар',
  HKD: 'Гонконгский доллар',
  HNL: 'Гондурасская лемпира',
  HRK: 'Хорватская куна',
  HTG: 'Гаитянский гурд',
  HUF: 'Венгерский форинт',
  IDR: 'Индонезийская рупия',
  ILS: 'Израильский шекель',
  IMP: 'Мэнский фунт',
  INR: 'Индийская рупия',
  IQD: 'Иракский динар',
  IRR: 'Иранский риал',
  ISK: 'Исландская крона',
  JEP: 'Джерсийский фунт',
  JMD: 'Ямайский доллар',
  JOD: 'Иорданский динар',
  JPY: 'Японская иена',
  KES: 'Кенийский шиллинг',
  KGS: 'Киргизский сом',
  KHR: 'Камбоджийский риель',
  KMF: 'Коморский франк',
  KPW: 'Северокорейская вона',
  KRW: 'Южнокорейская вона',
  KWD: 'Кувейтский динар',
  KYD: 'Доллар Островов Кайман',
  KZT: 'Казахстанский тенге',
  LAK: 'Лаосский кип',
  LBP: 'Ливанский фунт',
  LKR: 'Шри-Ланкийская рупия',
  LRD: 'Либерийский доллар',
  LSL: 'Лоти Лесото',
  LTL: 'Литовский лит',
  LVL: 'Латвийский лат',
  LYD: 'Ливийский динар',
  MAD: 'Марокканский дирхам',
  MDL: 'Молдавский лей',
  MGA: 'Малагасийский ариари',
  MKD: 'Македонский денар',
  MMK: 'Мьянманский кьят',
  MNT: 'Монгольский тугрик',
  MOP: 'Патака Макао',
  MRO: 'Мавританская угия',
  MUR: 'Маврикийская рупия',
  MVR: 'Мальдивская руфия',
  MWK: 'Малавийская квача',
  MXN: 'Мексиканское песо',
  MYR: 'Малайзийский ринггит',
  MZN: 'Мозамбикский метикал',
  NAD: 'Намибийский доллар',
  NGN: 'Нигерийская найра',
  NIO: 'Никарагуанская кордоба',
  NOK: 'Норвежская крона',
  NPR: 'Непальская рупия',
  NZD: 'Новозеландский доллар',
  OMR: 'Оманский риал',
  PAB: 'Панамский бальбоа',
  PEN: 'Перуанский соль',
  PGK: 'Кина Папуа — Новой Гвинеи',
  PHP: 'Филиппинское песо',
  PKR: 'Пакистанская рупия',
  PLN: 'Польский злотый',
  PYG: 'Парагвайский гуарани',
  QAR: 'Катарский риал',
  RON: 'Румынский лей',
  RSD: 'Сербский динар',
  RUB: 'Российский рубль',
  RWF: 'Франк Руанды',
  SAR: 'Саудовский риял',
  SBD: 'Доллар Соломоновых островов',
  SCR: 'Сейшельская рупия',
  SDG: 'Суданский фунт',
  SEK: 'Шведская крона',
  SGD: 'Сингапурский доллар',
  SHP: 'Фунт Святой Елены',
  SLL: 'Сьерра-леонский леоне',
  SOS: 'Сомалийский шиллинг',
  SRD: 'Суринамский доллар',
  STD: 'Добра Сан-Томе и Принсипи',
  SVC: 'Сальвадорский колон',
  SYP: 'Сирийский фунт',
  SZL: 'Свазилендский лилангени',
  THB: 'Таиландский бат',
  TJS: 'Таджикский сомони',
  TMT: 'Туркменский манат',
  TND: 'Тунисский динар',
  TOP: 'Тонганская паанга',
  TRY: 'Турецкая лира',
  TTD: 'Доллар Тринидада и Тобаго',
  TWD: 'Новый тайваньский доллар',
  TZS: 'Танзанийский шиллинг',
  UAH: 'Украинская гривна',
  UGX: 'Угандийский шиллинг',
  USD: 'Доллар США',
  UYU: 'Уругвайское песо',
  UZS: 'Узбекский сум',
  VEF: 'Венесуэльский боливар',
  VND: 'Вьетнамский донг',
  VUV: 'Вануатский вату',
  WST: 'Самоанская тала',
  XAF: 'Франк КФА BEAC',
  XAG: 'Серебро (тройская унция)',
  XAU: 'Золото (тройская унция)',
  XCD: 'Восточно-карибский доллар',
  XDR: 'Специальные права заимствования',
  XOF: 'Франк КФА BCEAO',
  XPF: 'Франк КФП',
  YER: 'Йеменский риал',
  ZAR: 'Южноафриканский рэнд',
  ZMK: 'Замбийская квача (1968–2012)',
  ZMW: 'Замбийская квача',
  ZWL: 'Доллар Зимбабве',
};
  
  return currencyNames[code] || code;
};